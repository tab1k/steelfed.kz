{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      {% block title %}

      {% endblock %}
    </title>

    <!-- Meta Tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="author" content="steelfed.kz" />
    <meta name="keywords" content="Металлопрокат оптом, цены, наличие, стальной прокат, металлопрокат Казахстан, ЦСП, металлоконструкции" />
    <meta name="description" content="Стальная Федерация – металлопрокат в Казахстане. Широкий ассортимент стали и металлоконструкций по доступным ценам." />

    <meta property="og:title" content="Стальная Федерация" />
    <meta property="og:description" content="Крупнейший поставщик стального проката в Казахстане." />
    <meta property="og:image" content="https://steelfed.kz/static/images/logo.png" />
    <meta property="og:url" content="https://steelfed.kz" />
    <meta property="og:type" content="website" />
    <link rel="sitemap" type="application/xml" title="Sitemap" href="https://steelfed.kz/sitemap.xml" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% static 'images/logo.png' %}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}" />

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@400;500;700&display=swap" />

    <!-- Plugins CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/all.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap-icons.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/tiny-slider.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/glightbox.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/flatpickr.min.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/choices.min.css' %}" />

    <!-- Theme CSS -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.7-beta.29/jquery.inputmask.min.js"></script>
    
  </head>

  <body>

    
    <!-- Header START -->
    <header class="navbar-light header-sticky">
      <div class="header-top container">
        <span style="color: #262a31;">
          <a style="color: black;" href="mailto:zakaz@steelfed.kz">
            <i class="fa-solid fa-envelope me-2"></i> zakaz@steelfed.kz
          </a>
        </span>
        <span>
            <a style="color: #262a31;" type='tel' href="tel: +7 (747) 562 05 16">
              <i class="fa-solid fa-phone me-2"></i> +7 (747) 562 05 16
            </a>
        </span>
      </div>
      <style>
        .header-top {
          position: fixed;
          top: 0;
          left: 50%;
          transform: translateX(-50%);
          width: 100%;
          max-width: 1200px; /* Или другой размер в зависимости от дизайна */
          background-color: #fff;
          display: flex;
          justify-content: space-between;
          align-items: center;
          font-size: 0.875rem;
          color: #666;
          padding: 0.5rem 1rem;
          border-bottom: 1px solid #e2e6ed;
          z-index: 1050;
        }
  
  
      </style>
      <!-- Logo Nav START -->
      <nav class="navbar navbar-expand-xl">
        <div class="container" style="margin-top: 30px;">
          <!-- Logo START -->
          <a class="navbar-brand" style="padding: 20px 0 13px;" href="/">
              <img class="light-mode-item navbar-brand-item" style="height: 43px; width: 150px;" src="{% static 'images/logo.png' %}" alt="logo">
          </a>
  
        
          <!-- Logo END -->
    
          <!-- Responsive navbar toggler -->
          <button class="navbar-toggler ms-auto ms-sm-0 p-0 p-sm-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fa-solid fa-magnifying-glass"></i>
  
            <span class="d-none d-sm-inline-block small"></span>
          </button>
    
          <!-- Responsive category toggler -->
          <button class="navbar-toggler ms-sm-auto mx-3 me-md-0 p-0 p-sm-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCategoryCollapse" aria-controls="navbarCategoryCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-grid-3x3-gap-fill fa-fw"></i><span class="d-none d-sm-inline-block small"></span>
          </button>
    
          <!-- Main navbar START -->
          <div class="navbar-collapse collapse" id="navbarCollapse">
            <div class="search-bar" style="position: relative; width: 100%;">
              <input type="text" id="search-input" style="border-radius: 7px; border: 1px solid #e2e6ed; color: #262a31; padding: 8px 40px 8px 8px; width: 440px;" placeholder="Поиск в каталоге...">
              <ul id="search-results" style="position: absolute; width: 100%; max-height: 200px; overflow-y: auto; z-index: 10; display: none; list-style: none; padding: 0; margin: 0;  background-color: white;"></ul>
          </div>
  
          <script>
            document.getElementById('search-input').addEventListener('input', function() {
                const query = this.value.trim();
                const resultsContainer = document.getElementById('search-results');
  
                if (query.length > 0) {  // Начинать поиск, если введено более 1 символа
                    fetch(`/search/?query=${encodeURIComponent(query)}`)
                        .then(response => response.json())
                        .then(data => {
                            resultsContainer.innerHTML = '';  // Очистить текущие результаты
                            if (data.results.length > 0) {
                                resultsContainer.style.display = 'block';  // Показать результаты
                                data.results.forEach(result => {
                                    const li = document.createElement('li');
                                    li.style.padding = '8px';
                                    li.style.borderBottom = '1px solid #e2e6ed';
                                    if (result.type === 'product') {
                                        // Если это продукт
                                        li.innerHTML = `
                                            <a href="/product/${result.slug}" style="color: #262a31; text-decoration: none;">
                                                 ${result.name}
                                            </a>`;
                                    } else if (result.type === 'category') {
                                        // Если это категория
                                        li.innerHTML = `
                                            <a href="/category/${result.slug}" style="color: #262a31; text-decoration: none;">
                                                 ${result.name}
                                            </a>`;
                                    } else if (result.type === 'none') {
                                        // Если ничего не найдено
                                        li.innerHTML = `
                                            <span style="color: #262a31;">${result.name}</span>`;
                                    }
                                    resultsContainer.appendChild(li);
                                });
                            } else {
                                resultsContainer.style.display = 'none';  // Скрыть, если нет результатов
                            }
                        })
                        .catch(error => {
                            console.error('Ошибка загрузки данных:', error);
                            resultsContainer.style.display = 'none';  // Скрыть, если произошла ошибка
                        });
                } else {
                    resultsContainer.style.display = 'none';  // Скрыть результаты, если менее 2 символов
                }
            });
        </script>
          
          </div>
          <!-- Main navbar END -->
    
          <!-- Nav category menu START -->
          <div class="navbar-collapse collapse" id="navbarCategoryCollapse">
            <ul class="navbar-nav navbar-nav-scroll nav-pills-primary-soft text-center ms-auto p-2 p-xl-0">
  
              <li class="nav-item d-lg-none"> 
                <a class="nav-link active" href="{% url 'main:category' %}">
                    <i class="fa-solid fa-store me-2"></i>Каталог
                </a>
              </li>
            
            
  
              <hr style="margin: 5px;">
  
              <!-- Nav item Hotel -->
              <li class="nav-item"> 
                <a class="nav-link " href="/">
                  <i class="fa-solid fa-house me-2"></i>Главная
                </a>
              </li>
              
              <!-- Nav item Services -->
              <li class="nav-item"> 
                <a class="nav-link" href="{% url 'main:services' %}">
                  <i class="fa-solid fa-gavel me-2"></i>Услуги
                </a>
              </li>
              
              <!-- Nav item Contacts -->
              <li class="nav-item"> 
                <a class="nav-link" href="{% url 'main:contacts' %}">
                  <i class="fa-solid fa-phone me-2"></i>Контакты
                </a>
              </li>
              
              <!-- Nav item About -->
              <li class="nav-item"> 
                <a class="nav-link" href="{% url 'main:about' %}">
                  <i class="fa-solid fa-info-circle me-2"></i>О компании
                </a>
              </li>
  
              
              
            </ul>
          </div>
          <!-- Nav category menu END -->
    
        </div>
      </nav>
      <!-- Logo Nav END -->
    </header>


    
    <!-- Header END -->

    <!-- **************** MAIN CONTENT START **************** -->
    {% block content %}
    
    {% endblock %}

   
    <!-- **************** MAIN CONTENT END **************** -->

    <!-- ======================= Footer START -->

    <footer class="py-7" style="border-radius: 25px 25px 0px 0px;">
      <div class="container">
        <div class="row mx-auto">
          <div class="col-lg-6 mx-auto text-center">
            <!-- Logo -->
            <img class="mx-auto h-50px mb-3" src="{% static 'images/logo.png' %}" style="filter: drop-shadow(0px 0px 12px white);" alt="logo" />

            <p class="mt-3 text-black">ТОО "Стальная Федерация" — ваш надежный партнер в сфере комплексных поставок строительных материалов.</p>
            <!-- Links -->
            <ul class="nav justify-content-between text-primary-hover mt-3 mt-md-0">
              <li class="nav-item">
                <a class="nav-link p-2 text-black" href="/">Главная</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-2 text-black" href="{% url 'main:category' %}">Каталог</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-2 text-black" href="{% url 'main:services' %}">Услуги</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-2 text-black" href="{% url 'main:contacts' %}">Контакты</a>
              </li>
              <li class="nav-item">
                <a class="nav-link p-2 text-black" href="{% url 'main:about' %}">О компании</a>
              </li>
            </ul>
            <!-- Social media button -->
            <ul class="list-inline mt-3 mb-0">
              <li class="list-inline-item">
                <a class="btn btn-white btn-sm shadow px-2 text-instagram" href="#"><i class="fab fa-fw fa-instagram"></i></a>
              </li>
            </ul>
            <!-- copyright text -->
            <div class="text-primary-hover mt-3" style="color: black;">
              Copyrights ©2025 IT. Build by <a href="https://www.instagram.com/tab1kkz/" class="text-black">Tabigat Karbayev.</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <style>
      footer {
        background: linear-gradient(to top, gray, rgba(255, 255, 255, 0));
        color: gray;
        padding: 20px;
        text-align: center;
        backdrop-filter: blur(10px);
        position: relative;
      }
    </style>
   

    <div id="whatsapp-container">
      <a href="https://wa.me/77475620516?text=👋%20Здравствуйте!%20Я%20пишу%20вам%20с%20*steelfed.kz*.%20хочу%20узнать%20подробнее%20о%20ваших%20услугах%20🚀" class="whatsapp-float" target="_blank"><i class="fab fa-whatsapp"></i></a>
      <div class="whatsapp-bubble">💬 Привет! Напишите нам, мы поможем!</div>
    </div>

    <!-- Стили для кнопки и облака -->
    <style>
      /* Контейнер WhatsApp */
      #whatsapp-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      
      /* Кнопка WhatsApp */
      .whatsapp-float {
        background-color: #25d366;
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        text-decoration: none;
        transition: transform 0.3s ease;
      }
      
      /* Анимация звонка */
      @keyframes ring {
        0% {
          transform: rotate(0deg);
        }
        10% {
          transform: rotate(-10deg);
        }
        20% {
          transform: rotate(10deg);
        }
        30% {
          transform: rotate(-10deg);
        }
        40% {
          transform: rotate(10deg);
        }
        50% {
          transform: rotate(0deg);
        }
      }
      
      /* При наведении анимация отключается */
      .whatsapp-float:hover {
        transform: scale(1.1);
        animation: none;
      }
      
      /* Всплывающее облако */
      .whatsapp-bubble {
        background: white;
        color: #333;
        padding: 10px 15px;
        border-radius: 15px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        font-size: 14px;
        position: absolute;
        bottom: 75px;
        right: 10px;
        opacity: 0;
        transition: opacity 0.5s ease, transform 0.5s ease;
        transform: translateY(10px);
        white-space: nowrap;
      }
      
      /* Показываем облако */
      .whatsapp-bubble.show {
        opacity: 1;
        transform: translateY(0);
      }
    </style>

    <!-- Скрипт для появления облака и звонка -->
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const whatsappBtn = document.querySelector('.whatsapp-float')
        const whatsappBubble = document.querySelector('.whatsapp-bubble')
      
        function startRingAnimation() {
          whatsappBtn.style.animation = 'ring 1.5s'
          setTimeout(() => {
            whatsappBtn.style.animation = ''
          }, 1500)
        }
      
        function showBubble() {
          const lastShown = localStorage.getItem('whatsappLastShown')
          const now = Date.now()
      
          if (!lastShown || now - lastShown > 15000) {
            // 15 секунд прошло?
            whatsappBubble.classList.add('show')
            localStorage.setItem('whatsappLastShown', now)
      
            setTimeout(() => {
              whatsappBubble.classList.remove('show')
            }, 5000)
          }
        }
      
        // 🛑 Если пользователь наводит курсор на WhatsApp, облако скрывается
        whatsappBtn.addEventListener('mouseenter', function () {
          whatsappBubble.classList.remove('show')
        })
      
        // 🔁 Показываем облако раз в 15 секунд (но не сразу)
        setInterval(showBubble, 15000)
      
        // 🔁 Запускаем звонок каждые 10 секунд
        setInterval(startRingAnimation, 2000)
      })
    </script>
    <!-- Bootstrap JS -->
    <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

    <!-- Vendors -->
    <script src="{% static 'js/tiny-slider.js' %}"></script>
    <script src="{% static 'js/purecounter_vanilla.js' %}"></script>
    <script src="{% static 'js/glightbox.js' %}"></script>
    <script src="{% static 'js/flatpickr.min.js' %}"></script>
    <script src="{% static 'js/choices.min.js' %}"></script>
    <script src="{% static 'js/jarallax.min.js' %}"></script>
    <script src="{% static 'js/jarallax-video.min.js' %}"></script>

    <!-- ThemeFunctions -->
    <script src="{% static 'js/functions.js' %}"></script>
  </body>
</html>
